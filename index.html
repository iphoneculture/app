<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Orden de Compra</title>
        <link rel="stylesheet" href="styles.css">
    </head>  
    <body>
        <form id="formulario">
            <label for="producto">Orden de Compra de iPhone 15 Pro Max 256GB</label>
            <div class="pantalla activa" id="pantalla1">
                <label for="inicio">¿Listo para hacer tu pedido?</label>
                <input type="button" value="Comenzar" onclick="mostrarPantalla(2)">
            </div>

            <div class="pantalla" id="pantalla2">
                <label for="pago">Por favor, seleccione cómo desea pagar</label>
                <select id="pago" name="pago" required>
                    <option value=""> </option>
                    <option value="Efectivo en ARS">Efectivo en ARS</option>
                    <option value="Efectivo en USD">Efectivo en USD</option>
                    <option value="Transferencia">Transferencia</option>
                    <option value="Tarjeta de Crédito en 1 Cuota">Tarjeta de Crédito en 1 Cuota</option>
                    <option value="Tarjeta de Crédito en 3 Cuotas">Tarjeta de Crédito en 3 Cuotas</option>
                    <option value="Tarjeta de Crédito en 6 Cuotas">Tarjeta de Crédito en 6 Cuotas</option>
                    <option value="Tarjeta de Crédito en 9 Cuotas">Tarjeta de Crédito en 9 Cuotas</option>
                    <option value="Tarjeta de Crédito en 12 Cuotas">Tarjeta de Crédito en 12 Cuotas</option>
                </select>
                <input type="button" value="Continuar" onclick="mostrarPantalla(3)">
            </div>

            <div class="pantalla" id="pantalla3">
                <label for="entrega">Por favor, seleccione su tipo de entrega</label>
                <select id="entrega" name="entrega" required>
                    <option value=""> </option>
                    <option value="Retiro en el local">Retiro en el local</option>
                    <option value="Envío por correo">Envío por correo</option>
                </select>
                <input type="button" value="Continuar" onclick="mostrarPantalla(4)">
            </div>

            <div class="pantalla" id="pantalla4">
                <label for="nombre">Ahora, vamos vos. ¿Cuál es tu nombre completo?</label>
                <input type="text" id="nombre" name="nombre" required>
                <input type="button" value="Continuar" onclick="mostrarPantalla(5)">
            </div>

            <div class="pantalla" id="pantalla5">
                <label for="contacto">¿Podemos obtener su número en caso de que necesitemos comunicarnos con usted?</label>
                <input type="text" id="contacto" name="contacto" required>
                <input type="button" value="Continuar" onclick="mostrarPantalla(6)">
            </div>

            <div class="pantalla" id="pantalla6">
                <label for="email">¿A dónde debemos enviar el correo electrónico de confirmación del pedido?</label>
                <input type="email" id="email" name="email" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}">
                <input type="button" value="Continuar" onclick="mostrarPantalla(7)">
            </div>

            <div class="pantalla" id="pantalla7">
                <label for="agrega">¿Deseas agregar algún otro producto a tu compra?</label>
                <select id="agrega" name="agrega" onchange="toggleAdd()" required>
                    <option value=""></option>
                    <option value="no">No</option>
                    <option value="si">Sí</option>
                </select>
            </div>

            <div class="pantalla" id="pantalla7" style="display:none;">
                <label for="agregado">¿Cuáles?</label>
                <select id="agregado" name="agregado" onchange= required>
                    <option value="iPhone">iPhone</option>
                </select>
                <input type="button" value="Continuar" onclick="mostrarPantalla(8)">
            </div>

            <div class="pantalla" id="pantalla8">
                <h2>Resumen de la Orden de Compra</h2>
                <div id="resumenDatos">
                    <!-- Aquí se insertará dinámicamente el resumen generado -->
                </div>
                <input type="button" value="Enviar Orden de Compra" onclick="generarImagen()">
            </div>

        </form>

        <script>
            function mostrarPantalla(numero) {
                // Ocultar todas las pantallas
                document.querySelectorAll('.pantalla').forEach(pantalla => {
                    pantalla.classList.remove('activa');
                });

                // Mostrar la pantalla correspondiente
                document.getElementById('pantalla' + numero).classList.add('activa');

                // Generar y mostrar el resumen si es la pantalla 7
                if (numero === 7) {
                    generarResumen();
                }
            }

            function toggleAdd() {
          // Mostrar u ocultar el campo de detalles de reparaciones según la selección
          const reparaciones = document.getElementById('agrega').value;
          const detalleReparaciones = document.getElementById('agregado');
          if (reparaciones === 'si') {
            detalleReparaciones.style.display = 'block';
          } else {
            detalleReparaciones.style.display = 'none';
          }
        }

            function generarResumen() {
                // Obtener valores del formulario
                const pago = document.getElementById('pago').value;
                const entrega = document.getElementById('entrega').value;
                const nombre = document.getElementById('nombre').value;
                const contacto = document.getElementById('contacto').value;
                const email = document.getElementById('email').value;

                // Crear el resumen
                const resumenHTML = `
                    <p><strong>Método de Pago:</strong> ${pago}</p>
                    <p><strong>Tipo de Entrega:</strong> ${entrega}</p>
                    <p><strong>Nombre Completo:</strong> ${nombre}</p>
                    <p><strong>Contacto:</strong> ${contacto}</p>
                    <p><strong>Email:</strong> ${email}</p>
                `;

                // Insertar el resumen en el div correspondiente
                document.getElementById('resumenDatos').innerHTML = resumenHTML;
            }
        </script>
    </body>
</html>

